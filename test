a!localVariables(
  local!cleanStates: {},
  local!temp: a!forEach(
    items: local!residenceStates,
    expression: if(
      and(
        not(isnull(fv!item)),
        fv!item <> "",
        not(contains(local!cleanStates, fv!item))
      ),
      local!cleanStates: append(local!cleanStates, fv!item),
      null
    )
  ),
  
  a!dropdownField(
    label: "Residence State", 
    choiceLabels: local!cleanStates,
    choiceValues: local!cleanStates,
    placeholder: "Select a state",
    value: local!selectedState,
    saveInto: local!selectedState
  )
)
